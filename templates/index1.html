{% extends "layout.html" %}

{% block content %}
<style>
    .ui-autocomplete{
        max-height: 200px !important;
        max-width: 350px;
        overflow-y: auto;
        /* prevent horizontal scrollbar */
        overflow-x: hidden;
        /* add padding to account for vertical scrollbar */
        padding-right: 20px;
    }
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
</style>

<!-- CONTAINER TO HOLD THE FORM AND THE MAP -->
<div class="container-fluid p-3" >
    <div class="row">
        <!-- FIRST COLUMN WITH THE FORM -->
        <div class="col-xl-4 bg-dark" style="border-radius: 10px; margin-top: 2.5rem; margin-left: 2.5rem">
            <!-- FORM -->
            <form class="text-center">
                <div class="row">
                    <div class="col-xl-12">
                        <div class="display-5 p-3" style="color: white;">
                            Estimated Journey Times for Dublin Bus
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xl-6 p-3">
                        <input type="text" class="form-control" placeholder="Source" id="source">
                    </div>
                    <div class="col-xl-6 p-3">
                        <input type="text" class="form-control" placeholder="Destination" id="destination">
                    </div>
                </div>
                <div class="row">
                    <div class="input-group date p-3" id="datetimepicker1" data-target-input="nearest">
                        <input type="text" class="form-control datetimepicker-input" data-target="#datetimepicker1" />
                        <div class="input-group-append" data-target="#datetimepicker1" data-toggle="datetimepicker">
                            <div class="input-group-text">
                                <i class="fa fa-calendar"></i>
                            </div>
                        </div>
                    </div>                    
                    <!-- All functions are accessed via the $('#datetimepicker').datetimepicker(FUNCTION) -->
                </div>
                <div class="row p-3">
                    <div class="col-xl-12 text-center">
                        <button type="button" class="btn btn-outline-primary">Get My Travel Time</button>
                    </div>
                </div>
            </form>

        </div>
        <div class="col-xl-8 w-75 p-3">
        </div>
    </div>
    <div id='map'>MAP HERE</div>
</div>
<!-- <script>showStations()</script> -->
<script>
    var map;
    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            center: { lat: -34.397, lng: 150.644 },
            zoom: 8
        });
    }
</script>
<script type="text/javascript">
    var stationsTable = document.getElementById("stationsTable");

    var $j = jQuery.noConflict();
    $j(function () {
        $j('#datetimepicker1').datetimepicker();
    });
    $j(function () {
        $j("#source").autocomplete({
            source: "{% url 'main:get_address' %}",
            minLength: 2,
        });
    });
    $j(function () {
        $j("#destination").autocomplete({
            source: "{% url 'main:get_address' %}",
            minLength: 2,
        })        
    })
</script>
{% endblock %}